/* --- 1. Grid Layout & Spacing --- */
.elementor-products-grid ul.products.elementor-grid {
  display: grid;
  margin: 0;
  grid-column-gap: 20px; /* Space between columns */
  grid-row-gap: 40px;    /* Space between rows */
}

.elementor-products-grid ul.products.elementor-grid li.product {
  display: var(--button-align-display);
  flex-direction: var(--button-align-direction);
  justify-content: var(--button-align-justify);
  float: none;
  width: auto;
}

/* --- 2. Product Elements & Badges --- */
.elementor-products-grid ul.products.elementor-grid li.product .onsale {
  display: none; /* Elementor often hides the default WC badge to use its own */
}

.elementor-products-grid ul.products.elementor-grid li.product a.woocommerce-loop-product__link {
  display: block;
  position: relative;
}

/* --- 3. Pagination --- */
.elementor-products-grid nav.woocommerce-pagination {
  margin-top: 40px;
}

/* Remove borders from pagination if disabled in settings */
.elementor-products-grid:not(.elementor-show-pagination-border-yes) nav.woocommerce-pagination ul,
.elementor-products-grid:not(.elementor-show-pagination-border-yes) nav.woocommerce-pagination ul li {
  border: 0;
}

/* --- 4. Section Headings (Related & Upsells) --- */
/* Hide headings if "Show Heading" is toggled off */
.elementor-widget-woocommerce-products:not(.products-heading-show) .cross-sells > h2,
.elementor-widget-woocommerce-products:not(.products-heading-show) .related > h2,
.elementor-widget-woocommerce-products:not(.products-heading-show) .upsells > h2 {
  display: none;
}

/* Styling for visible headings */
.elementor-widget-woocommerce-products.products-heading-show .related > h2 {
  color: var(--products-title-color);
  display: block;
  margin-bottom: var(--products-title-spacing, 1rem);
  text-align: var(--products-title-alignment, start);
}

/* --- 5. Star Rating Alignment --- */
.elementor-product-loop-item--align-left .star-rating { margin-right: auto; }
.elementor-product-loop-item--align-right .star-rating { margin-left: auto; }
.elementor-product-loop-item--align-center .star-rating { margin-left: auto; margin-right: auto; }
